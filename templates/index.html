{% extends "base.html" %} {% block content %}
<head>
  <script>
    function autoRefreshIndex() {
      setTimeout(function () {
        location.reload();
      }, 10000); // Odśwież stronę co 10 sekund (10000 milisekund)
    }
    autoRefreshIndex();
  </script>
</head>
<div class="container mt-5">
  <div class="row">
    <div class="col-md-4 offset-md-4">
      <form class="form-inline" method="POST" action="/">
        <input
          class="form-control mr-sm-2"
          type="text"
          name="city"
          placeholder="Wpisz miasto"
          aria-label="Search"
        />
        <button class="btn btn-primary btn-lg" type="submit">Szukaj</button>
      </form>
    </div>
  </div>

  <div class="row mt-3">
    {% for document in weather_data %}
    <div class="col-md-4">
      <h2>{{ document.area }}</h2>
      <div class="weather-card d-flex justify-content-between mb-3">
        <div>
          <p class="fs-4">{{ document.desc }}</p>
          <p class="text-warning">{{ document["timestamp"] }}</p>
          <p>Humidity: {{ document["humidity"] }} %</p>
          <p>Pressure: {{ document["pressure"] }} hPa</p>
        </div>
        <div>
          <p class="fs-4">Temperatures</p>
          <p>Average: {{ document["temp"] }}°C</p>
          <p>Minimum: {{ document["temp_min"] }}°C</p>
          <p>Maximum: {{ document["temp_max"] }}°C</p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
